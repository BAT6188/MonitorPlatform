<Page x:Class="MonitorPlatform.Pages.BossRight"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:wfi ="clr-namespace:System.Windows.Forms.Integration;assembly=WindowsFormsIntegration" 
      xmlns:wf ="clr-namespace:AxVSPOcxClientLib;assembly=AxInterop.VSPOcxClientLib" 
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:ctr="clr-namespace:MonitorPlatform.Controls" 
      xmlns:localdata="clr-namespace:MonitorPlatform.ViewModel" 
      mc:Ignorable="d" 
      ShowsNavigationUI="False"
      d:DesignHeight="300" d:DesignWidth="300"
            xmlns:local="clr-namespace:MonitorPlatform.Convert" 
       xmlns:chart="clr-namespace:De.TorstenMandelkow.MetroChart;assembly=De.TorstenMandelkow.MetroChart" 
	Title="BossRight" >
    <Page.Resources>
        <local:StringToBrushConverter x:Key="StringToBrushConverter" />

    </Page.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Border Grid.Row="0" Padding="5" Style="{StaticResource TitileSection}">
            <Border Style="{StaticResource SmallSectionHeader}"  Height="30" VerticalAlignment="Center"  Grid.Row="0" Grid.Column="0"   >
                <TextBlock Style="{StaticResource SmallSectionHeaderText}" TextAlignment="Center"  Text="轨道交通视频监控"></TextBlock>
            </Border>
        </Border>
           
        <Grid Grid.Row= "1" >
            <Grid.RowDefinitions>
                <RowDefinition Height="2.8*"></RowDefinition>
                <RowDefinition Height="1*"></RowDefinition>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"></ColumnDefinition>
                <ColumnDefinition Width="3.2*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource BigPopupSection}" Margin="5,30,5,5" >
                <!--<TreeView Name="tvProperties"    Padding="0" Margin="0" BorderThickness="0" ItemsSource="{Binding Path=Camera}">

                <TreeView.ItemTemplate>
                    <HierarchicalDataTemplate DataType="{x:Type localdata:PropertyNodeItem}" ItemsSource="{Binding Path=Children}">
                        <StackPanel Orientation="Horizontal">
                            <Image VerticalAlignment="Center" Source="{Binding Icon}" Width="16" Height="16" Margin="0,0,2,2"></Image>

                            <TextBlock VerticalAlignment="Center" Text="{Binding DisplayName}"></TextBlock>

                            <Image VerticalAlignment="Center" Source="{Binding EditIcon}" Margin="2,0,0,0"></Image>

                            <StackPanel.ToolTip>

                                <TextBlock VerticalAlignment="Center" Text="{Binding Name}" TextWrapping="Wrap" MaxWidth="200" ></TextBlock>

                            </StackPanel.ToolTip>

                        </StackPanel>

                    </HierarchicalDataTemplate>

                </TreeView.ItemTemplate>

            </TreeView>-->
                <ScrollViewer  BorderThickness="0"
                        Style="{StaticResource FavsScrollViewer}">
                    <TreeView Name="tvMain" ItemsSource="{Binding Path=SubWayLines}" BorderThickness="0"   Background="{x:Null}" Cursor="Hand" >
                        <TreeView.Resources>
                            <Style TargetType="{x:Type TreeViewItem}"
                       BasedOn="{StaticResource AeroTreeStyle}"/>
                            <HierarchicalDataTemplate  DataType="{x:Type localdata:SubLine}" ItemsSource="{Binding Path=Stations}">

                                <Border Grid.Row="0" Style="{StaticResource PopupContent}"  Width="220"  >
                                    <StackPanel HorizontalAlignment="Center"  VerticalAlignment="Center"  Orientation="Horizontal">

                                        <TextBlock Style="{StaticResource BaseContentWhiteStyle}"  Text="{Binding Path=Name}"></TextBlock>
                                    </StackPanel>
                                </Border>
                            </HierarchicalDataTemplate>

                            <HierarchicalDataTemplate DataType="{x:Type localdata:Station}" ItemsSource="{Binding Path=Cameras}">

                                <TextBlock  Text="{Binding Path=Name}" Style="{StaticResource BaseContentTextStyle}"  ></TextBlock>

                            </HierarchicalDataTemplate>

                            <HierarchicalDataTemplate DataType="{x:Type localdata:Camera}">
                                <TextBlock  Text="{Binding Path=Name}" Style="{StaticResource BaseContentTextStyle}"  ></TextBlock>
                            </HierarchicalDataTemplate>
                        </TreeView.Resources>
                    </TreeView>

                </ScrollViewer>

            </Border>
            <Border Grid.Row="1"  Grid.Column="0"  Style="{StaticResource BigPopupSection}" >
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1.2*">
                        </ColumnDefinition>
                        <ColumnDefinition Width="1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"></RowDefinition>
                        <RowDefinition Height="*"></RowDefinition>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0"  Grid.Column="0"  Grid.ColumnSpan="2">
                        <TextBlock   Style="{StaticResource BaseContentSmallWhiteStyle}"  TextAlignment="Center">摄像头分布信息</TextBlock>
                    </Border>
                    <Border Grid.Row="1"  Grid.Column="0" >
                        <chart:DoughnutChart  
                ChartTitle="Pie Chart"
                ChartSubTitle="Chart with fixed width and height"
                Palette="{Binding Path=SelectedPalette.Value}"
                FontSize="{Binding Path=SelectedFontSize}"
                IsRowColumnSwitched="{Binding Path=IsRowColumnSwitched}"
                ChartTitleVisibility="Hidden"
                ChartLegendVisibility="Visible"
                ToolTipFormat="{Binding Path=ToolTipFormat}"
                 InnerRadiusRatio="0.7"
                Foreground="#5AA0EF" 
                Background="{x:Null}"                 
                SelectedItem="{Binding Path=SelectedItem, Mode=TwoWay}"
                SelectedBrush="{Binding Path=SelectedBrush, Converter={StaticResource StringToBrushConverter}}"  >
                            <chart:PieChart.Series>
                                <chart:ChartSeries
                        SeriesTitle="摄像头分布"
                        DisplayMember="Name"
                        ValueMember="CameraTotalNumber"
                        ItemsSource="{Binding Path=SubWayLines}" />
                            </chart:PieChart.Series>
                        </chart:DoughnutChart>


                    </Border>
                    <Border Style="{StaticResource BigPopupSection}" Grid.Row="1"  Grid.Column="1"  >
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"></RowDefinition>
                                <RowDefinition Height="*"></RowDefinition>
                                <RowDefinition Height="*"></RowDefinition>
                                <RowDefinition Height="*"></RowDefinition>
                            </Grid.RowDefinitions>
                            <TextBlock Grid.Row="0" Style="{StaticResource BaseContentSmallTextStyle}" >
                    1号线总数
                            </TextBlock>

                            <TextBlock Grid.Row="1" Style="{StaticResource BaseContentSmallWhiteStyle}" Text="{Binding Path=SubWayLines[0].CameraTotalNumber}">

                            </TextBlock>

                            <TextBlock Grid.Row="2" Style="{StaticResource BaseContentSmallTextStyle}">
                    2号线总数
                            </TextBlock>

                            <TextBlock Grid.Row="3" Style="{StaticResource BaseContentSmallWhiteStyle}" Text="{Binding Path=SubWayLines[1].CameraTotalNumber}">

                            </TextBlock>
                        </Grid>
                    </Border>
                </Grid>

            </Border>
            <Border Grid.Row="0"  Grid.Column="1" Grid.RowSpan="2"  Style="{StaticResource BossPopupContent}" Padding="10,10,10,10">
                <wfi:WindowsFormsHost>
                    <wf:AxVSPOcxClient x:Name="videoControl"  Dock="Fill" >
                    </wf:AxVSPOcxClient>
                </wfi:WindowsFormsHost>
            </Border>
        </Grid>
        <Popup x:Name="inforpic"   PopupAnimation="Fade"  AllowsTransparency ="True" Placement="RelativePoint">
            <Border x:Name="infoborder">
                <DockPanel VerticalAlignment="Top" LastChildFill="False" Height="20">
                    <WrapPanel   Cursor="Hand"  MouseUp="btnClose_MouseUp"  DockPanel.Dock="Right" Margin="0,0,10,0"   Height="19.333"  Orientation="Horizontal" >
                        <!--<Path x:Name="形状_5" Data="F1M13.8,4.294C13.8,4.294 17,7.515 17,7.515 17,7.515 13.8,10.735 13.8,10.735 13.8,10.735 13.8,8.588 13.8,8.588 13.8,8.588 8.467,8.588 8.467,8.588 8.467,8.588 8.467,6.441 8.467,6.441 8.467,6.441 13.8,6.441 13.8,6.441 13.8,6.441 13.8,4.294 13.8,4.294z M1.64,1C1.64,1 12.094,1 12.094,1 12.447,1 12.734,1.288 12.734,1.644 12.734,1.644 12.734,5.367 12.734,5.367 12.734,5.367 11.667,5.367 11.667,5.367 11.667,5.367 11.667,2.502 11.667,2.502 11.667,2.266 11.476,2.073 11.24,2.073 11.24,2.073 3.133,2.073 3.133,2.073 3.133,2.073 6.546,3.79 6.802,3.92 7.261,4.152 7.4,4.564 7.4,4.835 7.4,4.835 7.4,12.882 7.4,12.882 7.4,12.882 11.24,12.882 11.24,12.882 11.476,12.882 11.667,12.69 11.667,12.453 11.667,12.453 11.667,9.662 11.667,9.662 11.667,9.662 12.734,9.662 12.734,9.662 12.734,9.662 12.734,13.312 12.734,13.312 12.734,13.667 12.447,13.956 12.094,13.956 12.094,13.956 7.4,13.956 7.4,13.956 7.4,13.956 7.4,16.731 7.4,16.731 7.4,16.903 7.218,17.079 6.916,16.92 5.496,16.167 1.631,14.037 1.351,13.886 1.349,13.886 1.348,13.885 1.346,13.884 1.141,13.776 1,13.561 1,13.312 1,13.312 1,1.644 1,1.644 1,1.288 1.286,1 1.64,1z" Fill="#FF0066CB" Height="19" Width="18"/>-->
                        <TextBlock x:Name="退出" Foreground="#FF00A1F2" FontSize="13.333" FontFamily="Microsoft YaHei" IsHyphenationEnabled="True" TextAlignment="Left" TextWrapping="Wrap" Text="退出"/>
                    </WrapPanel>
                </DockPanel>
                <Border.Background>
                    <ImageBrush Stretch="Fill"   ImageSource="/MonitorPlatform;component/Resource/横道图01_03.png" />
                </Border.Background>
            </Border>
        </Popup>
    </Grid>
  
</Page>
